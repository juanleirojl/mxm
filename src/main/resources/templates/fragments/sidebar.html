<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="sidebar" class="sidebar" data-background-color="dark">
    <div class="sidebar-logo">
        <!-- Logo Header -->
        <div class="logo-header" data-background-color="dark">
            <a href="/" class="logo">
                <img th:src="@{/assets/img/logo_transparente_branco.png}"
                     alt="MxM Cimentos"
                     class="navbar-brand"
                     height="20"/>
            </a>

            <div class="nav-toggle">
                <button class="btn btn-toggle toggle-sidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <button class="btn btn-toggle sidenav-toggler">
                    <i class="fas fa-bars-staggered"></i>
                </button>
            </div>
            <button class="topbar-toggler more">
                <i class="fas fa-ellipsis-v"></i>
            </button>
        </div>
        <!-- End Logo Header -->
    </div>

    <div class="sidebar-wrapper scrollbar scrollbar-inner">
        <div class="sidebar-content">
			<ul class="nav nav-secondary">

			    <!-- üîπ MENU PARA CIMENTO -->
			    <th:block sec:authorize="hasAnyAuthority('ADMIN', 'CIMENTO')">
			        <li class="nav-section">
			            <span class="sidebar-mini-icon"><i class="fas fa-industry"></i></span>
			            <h4 class="text-section">Cimento</h4>
			        </li>
			        <li class="nav-item">
			            <a data-bs-toggle="collapse" href="#menuCimento" aria-expanded="false">
			                <i class="fas fa-industry"></i>
			                <p>Gest√£o de Cimento</p>
			                <span class="caret"></span>
			            </a>
			            <div class="collapse" id="menuCimento">
			                <ul class="nav nav-collapse">
								<!-- DASHBOARD (Varia conforme o perfil) -->
							    <li><a th:href="@{/dashboard}" ><i class="fas fa-chart-pie"></i> Dashboard</a></li>
			                    <li><a th:href="@{/relatorios}"><i class="fas fa-chart-line"></i> Relat√≥rios</a></li>
			                    <li><a th:href="@{/pedido/listar}"><i class="fas fa-shopping-cart"></i> Pedidos</a></li>
			                    <li><a th:href="@{/clientes}"><i class="fas fa-user-friends"></i> Clientes</a></li>
			                    <li><a th:href="@{/preco/listar}"><i class="fas fa-tags"></i> Pre√ßos de Cimento</a></li>
			                    <li><a th:href="@{/termo}"><i class="fas fa-file-signature"></i> Termo</a></li>
			                </ul>
			            </div>
			        </li>
			    </th:block>

				
				
				<!-- üîπ MENUS PARA LICITA√á√ïES (DIN√ÇMICO) -->
	                <th:block th:if="${licitacoesPermitidas != null and not #lists.isEmpty(licitacoesPermitidas)}">
	                    <li class="nav-section">
	                        <span class="sidebar-mini-icon"><i class="fas fa-balance-scale"></i></span>
	                        <h4 class="text-section">Licita√ß√µes</h4>
	                    </li>

	                    <!-- Loop nas licita√ß√µes que o usu√°rio pode acessar -->
	                    <li class="nav-item" th:each="licitacao : ${licitacoesPermitidas}">
	                        <a data-bs-toggle="collapse" th:href="'#menuLicitacao-' + ${licitacao.id}" aria-expanded="false">
	                            <i class="fas fa-balance-scale"></i>
	                            <p th:text="${licitacao.nome}"></p>
	                            <span class="caret"></span>
	                        </a>
	                        <div class="collapse" th:id="'menuLicitacao-' + ${licitacao.id}">
	                            <ul class="nav nav-collapse">
	                                <li><a th:href="@{'/licitacao-dashboard/' + ${licitacao.id}}"><i class="fas fa-chart-bar"></i> Dashboard</a></li>
	                                <li><a th:href="@{'/gastos-licitacao/' + ${licitacao.id}}"><i class="fas fa-dollar-sign"></i> Controle de Gastos</a></li>
	                                <li><a th:href="@{'/vendas-licitacao/' + ${licitacao.id}}"><i class="fas fa-store"></i> Controle de Vendas</a></li>
	                            </ul>
	                        </div>
	                    </li>
	                </th:block>

	                <!-- üîπ SOMENTE ADMIN V√ä GEST√ÉO GERAL -->
	                <th:block sec:authorize="hasAuthority('ADMIN')">
	                    <li class="nav-section">
	                        <span class="sidebar-mini-icon"><i class="fas fa-cogs"></i></span>
	                        <h4 class="text-section">Gest√£o</h4>
	                    </li>
	                    <li class="nav-item">
	                        <a data-bs-toggle="collapse" href="#menuGestao" aria-expanded="false">
	                            <i class="fas fa-cogs"></i>
	                            <p>Gest√£o Geral</p>
	                            <span class="caret"></span>
	                        </a>
	                        <div class="collapse" id="menuGestao">
	                            <ul class="nav nav-collapse">
	                                <li><a th:href="@{/categorias}"><i class="fas fa-tags"></i> Categorias</a></li>
	                                <li><a th:href="@{/licitacoes}"><i class="fas fa-file-contract"></i> Licita√ß√µes</a></li>
	                            </ul>
	                        </div>
	                    </li>
	                </th:block>
					
					
					
			    <!-- üîπ SOMENTE ADMIN V√ä CONFIGURA√á√ïES -->
			    <th:block sec:authorize="hasAuthority('ADMIN')">
			        <li class="nav-section">
			            <span class="sidebar-mini-icon"><i class="fas fa-user-shield"></i></span>
			            <h4 class="text-section">Admin</h4>
			        </li>
			        <li class="nav-item"><a th:href="@{/emprestimos}"><i class="fas fa-hand-holding-usd"></i> Empr√©stimos</a></li>
			        <li class="nav-item"><a th:href="@{/usuarios}"><i class="fas fa-users"></i> Usu√°rios</a></li>
			    </th:block>
				
				
				
				

			</ul>


        </div>
    </div>
</div>
</html>
